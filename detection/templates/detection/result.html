<!DOCTYPE html>
<html>
<head>
    <title>Detection Results</title>
    <style>
        body { font-family: Arial; background: #f4f6f8; padding: 30px; }
        .card { background: white; padding: 20px; border-radius: 10px;
                max-width: 900px; margin: auto; }
        img { max-width: 100%; border-radius: 6px; margin-top: 10px; }
        .violation { border-top: 1px solid #ccc; margin-top: 20px; padding-top: 10px; }
        .no { color: red; font-weight: bold; }
    </style>
</head>
<body>

<div class="card">
    <h2>üöò Detection Results</h2>
    <p><b>Location:</b> {{ location.name }}</p>

    <h3>üì∑ Uploaded Image</h3>
    <img src="{{ uploaded_image }}">

    <h3>üñç Annotated Output</h3>
    <img src="{{ annotated_image }}">

    <h3>‚ùå Helmet Violations Detected: {{ violations|length }}</h3>

    {% for v in violations %}
        <div class="violation">
            <p class="no">Helmet: NO</p>
            <p><b>Vehicle Number:</b> {{ v.vehicle_number }}</p>
            <p><b>OCR Confidence:</b> {{ v.confidence }}%</p>

            {% if v.plate_image %}
                <p><b>Detected Plate:</b></p>
                <img src="{{ v.plate_image.url }}">
            {% endif %}
        </div>
    {% empty %}
        <p>No helmet violations detected.</p>
    {% endfor %}

    <br>
    <a href="{% url 'upload' %}">üîÑ Upload Another Image</a>
</div>

</body>
</html>
